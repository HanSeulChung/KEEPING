@import 'tailwindcss';

/* 세이프 에어리어 및 모바일 최적화 */
:root {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-right: env(safe-area-inset-right);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
}

.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.pb-safe {
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
}

.pt-safe {
  padding-top: calc(1rem + env(safe-area-inset-top));
}

/* 텍스트 잘림 처리 */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

/* 터치 피드백 향상 */
button, [role="button"], .clickable {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* iOS Safari 스크롤 관련 최적화 */
* {
  -webkit-overflow-scrolling: touch;
}

/* PWA 상태바 대응 */
@supports (display: standalone) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@font-face {
  font-family: 'NanumSquareNeo';
  src: url('./fonts/NanumSquareNeo-aLt.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NanumSquareNeo';
  src: url('./fonts/NanumSquareNeo-bRg.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NanumSquareNeo';
  src: url('./fonts/NanumSquareNeo-cBd.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NanumSquareNeo';
  src: url('./fonts/NanumSquareNeo-dEb.ttf') format('truetype');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NanumSquareNeo';
  src: url('./fonts/NanumSquareNeo-eHv.ttf') format('truetype');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Tenada';
  src: url('./fonts/Tenada.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Jalnan';
  src: url('/fonts/Jalnan2TTF.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'NanumSquareRoundEB';
  src: url('/fonts/NanumSquareRoundEB.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-nanum-square-neo: 'NanumSquareNeo', Arial, Helvetica, sans-serif;
  --font-tenada: 'Tenada', Arial, Helvetica, sans-serif;
  --font-jalnan: 'Jalnan', Arial, Helvetica, sans-serif;
  --font-nanum-square-round-eb:
    'NanumSquareRoundEB', Arial, Helvetica, sans-serif;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-nanum-square-neo, Arial, Helvetica, sans-serif);
  --font-display: var(--font-tenada, Arial, Helvetica, sans-serif);
  --font-jalnan: var(--font-jalnan, Arial, Helvetica, sans-serif);
  --font-nanum-square-round-eb: var(
    --font-nanum-square-round-eb,
    Arial,
    Helvetica,
    sans-serif
  );

  /* Keeping 색상 토큰 */
  --color-black: #000000;
  --color-white: #ffffff;
  --color-keeping-beige: #faf8f6;
  --color-keeping-blue: #4c97d6;
  --color-keeping-yellow: #ffda69;
  --color-keeping-charcoal: #333333;

  /* 의미 토큰: 용도 기반 이름 */
  --color-primary: var(--color-black);
  --color-primary-fg: #ffffff;
  --color-accent: var(--color-keeping-yellow);
  --color-bg: var(--color-white);
  --color-surface: #ffffff;
  --color-border: var(--color-black);
  --color-text: var(--color-black);
  --color-text-muted: #cccccc;

  /* 상태색(알림/에러 등) */
  --color-success: #22c55e;
  --color-warning: var(--color-keeping-yellow);
  --color-danger: #ef4444;
}

html {
  color-scheme: light;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
}

/* 스크롤바 숨기기 */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* 모바일 네이티브 최적화 */

/* 세이프 에어리어 대응 */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

.pb-safe {
  padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
}

.pt-safe {
  padding-top: max(1rem, env(safe-area-inset-top));
}

/* 터치 대상 최적화 */
button, [role="button"], a {
  min-height: 44px; /* iOS 권장 터치 타겟 크기 */
  min-width: 44px;
}

/* 네이티브 느낌의 터치 피드백 */
.touch-feedback {
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-touch-callout: none;
}

.touch-feedback:active {
  transform: scale(0.98);
  opacity: 0.8;
}

/* 부드러운 스크롤 */
html {
  scroll-behavior: smooth;
}

/* iOS 스타일 bounce 스크롤 방지 */
body {
  overscroll-behavior: none;
}

/* 텍스트 선택 방지 (UI 요소) */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* 줄바꿈 제한 클래스 */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* 모바일 키보드 대응 */
@media (max-height: 600px) {
  .keyboard-adaptive {
    min-height: auto;
  }
}
